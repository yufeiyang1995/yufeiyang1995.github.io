## MySQL知识点

* 存储引擎

  * MyIsam
  * InnoDB
  * 区别：
    * MyISAM只有表锁，InnoDB可以行锁
    * InnoDB有commit功能
    * InnoDB可以崩溃后恢复
    * InnoDB支持外键

* 索引：帮助MySQL高效获取数据的数据结构

  * 作用：
    * 保证数据库表中每一行数据的唯一性
    * 加快检索速度
    * 加速表和表之间的连接
    * 减少分组和排序时间
  * 缺点：
    * 创建索引和维护索引要耗费时间
    * 索引会占一定的空间
  * 数据结构：B+树
    * MyISAM使用B+树作为索引，叶子结点的数据域存放数据的地址
    * InnoDB数据与索引不分离，叶子结点的数据域直接保存了数据的内容
    * InnoDB的辅助索引用数据域存放主键

* 查询缓存

  * my.cnf加入以下配置，重启Mysql开启查询缓存

    ```sql
    query_cache_type=1
    query_cache_size=600000
    ```


  * Mysql执行以下命令也可以开启查询缓存

    ```sql
    set global  query_cache_type=1;
    set global  query_cache_size=600000;
    ```

  * 有查询缓存之后，相同的查询会从缓存中

  * 虽然提高了查询销量，但是增大了存储开销

* 事务

  * ACID：
    * 原子性
    * 一致性
    * 隔离性
    * 持久性
  * 为了达到ACID的效果，数据库定义了事务隔离等级：
    * **READ_UNCOMMITTED（未提交读）**
    * **READ_COMMITTED（提交读）**：不可重复读和幻读可以发生
    * **REPEATABLE_READ（可重复读）**：
    * **SERIALIZABLE（串行）**：最高级别的隔离